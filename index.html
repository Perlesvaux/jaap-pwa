<!DOCTYPE html>
<html lang='es'>

<head>
   <meta charset='UTF-8'>
   <meta name='viewport' content='width=device-width, initial-scale=1.0'>
   <!-- <script src="https://cdn.jsdelivr.net/npm/d3@7"></script> -->
   <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css'>

   <link rel="manifest" href="manifest.json" />
   <link rel="icon" href="favicon.png" />

   <script type='module' src='index.js'></script>

   <style>
      body {
         background-color: palegoldenrod;
      }

      nav {
         background-color: palegoldenrod;
      }

      main {
         background-color: white;
      }
   </style>

   <title>Registro JAAP</title>
</head>

<body>
   <h1 class='h4 text-center'>Registro la Junta Administradora de Agua Potable</h1>

   <nav class='position-sticky top-0'>

      <div class='btn-group'>
         <input type='button' id='meters-btn' class='btn btn-success' value='Medidores'>
         <input type='button' class='btn btn-success' id='meter-add-btn' value='+ Medidor'>
      </div>

      <div class='btn-group'>
         <div class='btn btn-primary'>
            <label for='csv-btn'>Abrir CSV</label>
            <input type='file' id='csv-btn' accept='.csv' class='d-none'>
         </div>
      </div>

      <search id='meter-search' class='d-none'>
         <label for='meter-filter'>Filtrar </label>
         <input id='meter-filter' type='search' spellcheck='false'>
      </search>

      <search id='csv-search' class='d-none'>
         <label for='csv-filter'>Filtrar </label>
         <input id='csv-filter' type='search' spellcheck='false'>
      </search>

      <div class='btn-group d-none' id='meters-switches'></div>
      <div class='btn-group d-none' id='csv-switches'></div>

   </nav>

   <dialog id='meter-dialog'>
      <form method='dialog'>

         <label for='medidor' class='form-label'>Medidor</label>
         <input id='medidor' class='form-control' type='number' required placeholder='020318' name='medidor'>

         <label for='zona' class='form-label'>Zona</label>
         <input id='zona' class='form-control' type='number' required min='1' max='12' placeholder='7' name='zona'>

         <label for='titular' class='form-label'>Titular</label>
         <input id='titular' class='form-control' type='text' required placeholder='José López' spellcheck='false'
            name='titular'>

         <label for='caserío' class='form-label'>Caserío</label>
         <input id='caserío' class='form-control' type='text' required placeholder='La Profética' spellcheck='false'
            name='caserío'>

         <label for='lectura' class='form-label'>Lectura inicial</label>
         <input id='lectura' class='form-control' type='number' required min='0' value='0' name='lectura'>

         <label for='fecha' class='form-label'>Fecha de lectura inicial</label>
         <input id='fecha' class='form-control' type='date' required name='fecha'>

         <!-- <label for='deuda' class='form-label'>Deuda</label>
         <input id='deuda' class='form-control' type='number' required min='0' step='0.01' value='0'> -->

         <input type='submit' value='Agregar medidor'>
         <input type='button' value='Cancelar' id='meter-cancel-btn'>
      </form>
   </dialog>

   <dialog id='meter-added-dialog'>
      <form method='dialog'>
         <p>Medidor agregado exitosamente!</p>
         <input type='submit' value='Ok'>
      </form>
   </dialog>

   <dialog id='meter-error-dialog'>
      <form method='dialog'>
         <p>El medidor <span id='meter-repeated'></span> ya existe!</p>
         <input type='submit' value='Ok'>
      </form>
   </dialog>

   <dialog id='meter-reading-dialog'>
      <form method='dialog'>
         <label for='meter-read'>Medidor</label>
         <input id='meter-read' type='text'>
         <input type='submit' value='Ok'>
      </form>
   </dialog>

   <dialog id='meter-read-confirm-dialog'>
      <form method='dialog'>
         <label for='meter-read'>Medidor</label>
         <input id='meter-read' type='text'>
         <input type='submit' value='Ok'>
      </form>
   </dialog>

   <dialog id='meter-unregistered-dialog'>
      <form method='dialog'>
         <label for='meter-read'>Medidor</label>
         <input id='meter-read' type='text'>
         <input type='submit' value='Ok'>
      </form>
   </dialog>

   <dialog id='meter-already-read-dialog'>
      <form method='dialog'>
         <label for='meter-read'>Medidor</label>
         <input id='meter-read' type='text'>
         <input type='submit' value='Ok'>
      </form>
   </dialog>

   <main>
      <table id='meters-table' class='table table-striped table-bordered d-none'></table>
      <table id='csv-table' class='table table-striped table-bordered d-none'></table>
   </main>
</body>

</html>